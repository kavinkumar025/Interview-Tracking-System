import{a as j}from"./chunk-PJRJ33IU.js";import{b as I,c,d as O,e as k,g as L,i as N,l as F,m as T,n as A,o as V,r as D,t as R}from"./chunk-46GCKG2T.js";import{d as M}from"./chunk-AHEKFUMX.js";import{Da as w,Ha as p,Oa as m,Pb as S,Ra as t,Rb as y,Sa as e,Ta as r,Xa as b,Ya as v,Yb as E,c as C,db as o,dc as P,eb as h,fb as f,ob as x,ua as a,ya as u}from"./chunk-BULBJQPZ.js";var z=(i,l)=>({"bi-person-plus":i,"bi-box-arrow-in-right":l}),B=(i,l)=>({"bi-box-arrow-in-right":i,"bi-person-plus":l});function H(i,l){i&1&&(t(0,"small",48),o(1,"Access your evaluation workspace"),e())}function W(i,l){i&1&&(t(0,"small",48),o(1,"Provision a new platform user"),e())}function J(i,l){i&1&&(t(0,"div",51),o(1,"Name required"),e())}function U(i,l){if(i&1&&(t(0,"div",27)(1,"label",28),o(2,"Full Name"),e(),t(3,"div",29)(4,"span",30),r(5,"i",49),e(),r(6,"input",50),e(),p(7,J,2,0,"div",33),e()),i&2){let d,n=v();a(7),m("ngIf",((d=n.form.get("name"))==null?null:d.touched)&&((d=n.form.get("name"))==null?null:d.invalid))}}function Y(i,l){i&1&&(t(0,"div",51),o(1,"Valid email required"),e())}function K(i,l){i&1&&(t(0,"div",51),o(1,"Min 6 characters"),e())}function Q(i,l){i&1&&(t(0,"div",52)(1,"label",28),o(2,"Department"),e(),t(3,"div",29)(4,"span",30),r(5,"i",10),e(),r(6,"input",53),e()())}function X(i,l){i&1&&(t(0,"div",52)(1,"label",28),o(2,"Role"),e(),t(3,"div",29)(4,"span",30),r(5,"i",54),e(),t(6,"select",55)(7,"option",56),o(8,"Interviewer"),e(),t(9,"option",57),o(10,"Manager"),e(),t(11,"option",58),o(12,"HR"),e(),t(13,"option",59),o(14,"Admin"),e()()()())}function Z(i,l){if(i&1&&(t(0,"div",60),r(1,"i",61),t(2,"span"),o(3),e()()),i&2){let d=v();a(3),h(d.error)}}function $(i,l){if(i&1&&(t(0,"span"),r(1,"i",19),o(2),e()),i&2){let d=v();a(),m("ngClass",x(2,B,d.mode==="login",d.mode==="signup")),a(),f(" ",d.mode==="login"?"Login":"Create Account","")}}function ee(i,l){i&1&&r(0,"span",62)}var G=class i{constructor(l,d,n,s){this.fb=l;this.fs=d;this.router=n;this.toast=s;this.form=this.fb.group({name:["",[c.minLength(2)]],email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],department:[""],role:["interviewer",c.required]})}mode="login";showPwd=!1;year=new Date().getFullYear();form;submitting=!1;error="";switchMode(){this.mode=this.mode==="login"?"signup":"login",this.error="",this.mode==="login"?(this.form.get("name")?.clearValidators(),this.form.get("name")?.updateValueAndValidity()):(this.form.get("name")?.setValidators([c.required,c.minLength(2)]),this.form.get("name")?.updateValueAndValidity())}submit(){return C(this,null,function*(){if(this.form.invalid)return;this.submitting=!0,this.error="";let{name:l,email:d,password:n,department:s,role:g}=this.form.value,_=(d||"").trim().toLowerCase();try{this.mode==="login"?(yield this.fs.login(_,n),this.toast.success("Welcome back")):(yield this.fs.register(_,n,{name:l,role:g,department:s||"General",canInterviewFor:[],createdAt:new Date,isActive:!0}),this.toast.success("Account created")),this.router.navigate(["/dashboard"])}catch(q){this.error=q.message||"Authentication failed",this.toast.error(this.error,6e3)}this.submitting=!1})}static \u0275fac=function(d){return new(d||i)(u(D),u(P),u(M),u(j))};static \u0275cmp=w({type:i,selectors:[["app-login"]],decls:85,vars:23,consts:[[1,"auth-wrapper","d-flex","align-items-center","py-5"],[1,"login-shell","container-xl"],[1,"row","g-4","align-items-stretch"],[1,"col-lg-6","d-none","d-lg-flex"],[1,"brand-panel","shadow-lg","rounded-4","w-100","p-5","position-relative","overflow-hidden"],[1,"decor-circle","one"],[1,"decor-circle","two"],[1,"mb-4"],[1,"display-6","fw-bold","text-white","mb-3","d-flex","align-items-center","gap-3"],[1,"brand-icon"],[1,"bi","bi-diagram-3"],[1,"lead","text-white-50","mb-4"],[1,"feature-list","list-unstyled","m-0"],[1,"bi","bi-check-circle-fill"],[1,"text-white-50","small","position-absolute","bottom-0","start-0","p-3"],[1,"col-lg-6","col-md-9","col-sm-11","mx-auto"],[1,"login-card","shadow-lg","rounded-4","bg-white","p-4","p-md-5","position-relative"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","gap-2"],[1,"fw-bold","mb-1","d-flex","align-items-center","gap-2"],[1,"bi",3,"ngClass"],["class","text-muted",4,"ngIf"],[1,"text-end","small","toggle-wrapper"],[1,"text-muted","me-1"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row","g-3"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"form-label"],[1,"input-group","input-group-lg","has-icon"],[1,"input-group-text"],[1,"bi","bi-envelope"],["formControlName","email","type","email","placeholder","name@company.com",1,"form-control"],["class","invalid-msg",4,"ngIf"],[1,"input-group","input-group-lg","password-group","has-icon"],[1,"bi","bi-lock"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"type"],["type","button","tabindex","-1",1,"btn","btn-outline-secondary",3,"click"],["class","col-md-6",4,"ngIf"],["class","alert alert-danger py-2 mt-3 small d-flex align-items-center gap-2",4,"ngIf"],[1,"btn","w-100","btn-lg","gradient-btn","mt-4",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"mt-4","small","text-muted","d-flex","flex-wrap","gap-2","feature-badges"],[1,"bi","bi-speedometer2"],[1,"bi","bi-shield-check"],[1,"bi","bi-people"],[1,"bi","bi-graph-up"],[1,"text-muted"],[1,"bi","bi-person"],["formControlName","name","placeholder","Jane Doe",1,"form-control"],[1,"invalid-msg"],[1,"col-md-6"],["formControlName","department","placeholder","Engineering",1,"form-control"],[1,"bi","bi-person-badge"],["formControlName","role",1,"form-select"],["value","interviewer"],["value","manager"],["value","hr"],["value","admin"],[1,"alert","alert-danger","py-2","mt-3","small","d-flex","align-items-center","gap-2"],[1,"bi","bi-exclamation-triangle-fill"],[1,"spinner-border","spinner-border-sm"]],template:function(d,n){if(d&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),r(5,"div",5)(6,"div",6),t(7,"div",7)(8,"h1",8)(9,"span",9),r(10,"i",10),e(),o(11," Interview Portal "),e(),t(12,"p",11),o(13,"Streamline multi\u2011stage hiring with structured evaluations, analytics, and transparent collaboration."),e(),t(14,"ul",12)(15,"li"),r(16,"i",13),o(17," Stage\u2011wise score consolidation"),e(),t(18,"li"),r(19,"i",13),o(20," Role & permission controls"),e(),t(21,"li"),r(22,"i",13),o(23," Real\u2011time dashboard & funnel"),e(),t(24,"li"),r(25,"i",13),o(26," Audit & compliance trail"),e()()(),t(27,"div",14),o(28),e()()(),t(29,"div",15)(30,"div",16)(31,"div",7)(32,"div",17)(33,"div")(34,"h3",18),r(35,"i",19),o(36),e(),p(37,H,2,0,"small",20)(38,W,2,0,"small",20),e(),t(39,"div",21)(40,"span",22),o(41),e(),t(42,"button",23),b("click",function(){return n.switchMode()}),r(43,"i",19),o(44),e()()()(),t(45,"form",24),b("ngSubmit",function(){return n.submit()}),t(46,"div",25),p(47,U,8,1,"div",26),t(48,"div",27)(49,"label",28),o(50,"Email"),e(),t(51,"div",29)(52,"span",30),r(53,"i",31),e(),r(54,"input",32),e(),p(55,Y,2,0,"div",33),e(),t(56,"div",27)(57,"label",28),o(58,"Password"),e(),t(59,"div",34)(60,"span",30),r(61,"i",35),e(),r(62,"input",36),t(63,"button",37),b("click",function(){return n.showPwd=!n.showPwd}),r(64,"i",19),e()(),p(65,K,2,0,"div",33),e(),p(66,Q,7,0,"div",38)(67,X,15,0,"div",38),e(),p(68,Z,4,1,"div",39),t(69,"button",40),p(70,$,3,5,"span",41)(71,ee,1,0,"span",42),e()(),t(72,"div",43)(73,"span"),r(74,"i",44),o(75," Fast"),e(),t(76,"span"),r(77,"i",45),o(78," Secure"),e(),t(79,"span"),r(80,"i",46),o(81," Collaborative"),e(),t(82,"span"),r(83,"i",47),o(84," Insightful"),e()()()()()()()),d&2){let s,g;a(28),f("\xA9 ",n.year," Hiring Suite"),a(7),m("ngClass",n.mode==="login"?"bi-box-arrow-in-right text-primary":"bi-person-plus text-success"),a(),f(" ",n.mode==="login"?"Welcome Back":"Create Account"," "),a(),m("ngIf",n.mode==="login"),a(),m("ngIf",n.mode==="signup"),a(3),h(n.mode==="login"?"New here?":"Already registered?"),a(2),m("ngClass",x(20,z,n.mode==="login",n.mode==="signup")),a(),f(" ",n.mode==="login"?"Sign Up":"Login"," "),a(),m("formGroup",n.form),a(2),m("ngIf",n.mode==="signup"),a(8),m("ngIf",((s=n.form.get("email"))==null?null:s.touched)&&((s=n.form.get("email"))==null?null:s.invalid)),a(7),m("type",n.showPwd?"text":"password"),a(2),m("ngClass",n.showPwd?"bi-eye-slash":"bi-eye"),a(),m("ngIf",((g=n.form.get("password"))==null?null:g.touched)&&((g=n.form.get("password"))==null?null:g.invalid)),a(),m("ngIf",n.mode==="signup"),a(),m("ngIf",n.mode==="signup"),a(),m("ngIf",n.error),a(),m("disabled",n.form.invalid||n.submitting),a(),m("ngIf",!n.submitting),a(),m("ngIf",n.submitting)}},dependencies:[E,S,y,R,L,A,V,I,T,O,k,N,F],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#0d6efd,#5a3abf,#4e28c2)}.login-shell[_ngcontent-%COMP%]{max-width:1240px}.brand-panel[_ngcontent-%COMP%]{border-radius:2rem;background:radial-gradient(circle at 20% 20%,rgba(255,255,255,.15),transparent 60%),linear-gradient(135deg,#4b2fbf,#1b66d6 70%,#1385ff);display:flex;flex-direction:column;justify-content:space-between;position:relative;color:#fff}.brand-panel[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.6rem;display:flex;align-items:center;gap:.6rem;font-weight:500}.brand-panel[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.brand-panel[_ngcontent-%COMP%]   .decor-circle[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(30px);opacity:.35}.brand-panel[_ngcontent-%COMP%]   .decor-circle.one[_ngcontent-%COMP%]{width:260px;height:260px;background:#fff;top:-60px;right:-70px}.brand-panel[_ngcontent-%COMP%]   .decor-circle.two[_ngcontent-%COMP%]{width:180px;height:180px;background:#ffe680;bottom:-40px;left:-40px}.brand-panel[_ngcontent-%COMP%]   .brand-icon[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.25);width:60px;height:60px;display:flex;align-items:center;justify-content:center;font-size:30px;border-radius:18px}.login-card[_ngcontent-%COMP%]{border:1px solid #ebecf0;background:#fff}.login-card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f1f3f6}.login-card[_ngcontent-%COMP%]   .feature-badges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#f5f6f8;padding:4px 10px;border-radius:14px;font-size:.72rem;font-weight:500;letter-spacing:.3px}.login-card[_ngcontent-%COMP%]   .invalid-msg[_ngcontent-%COMP%]{font-size:.7rem;margin-top:2px;color:#dc3545}.gradient-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#0d6efd,#4f46e5);color:#fff;border:none;font-weight:600;box-shadow:0 6px 16px -4px #0d6efd73}.gradient-btn[_ngcontent-%COMP%]:hover{filter:brightness(.95)}.gradient-btn[_ngcontent-%COMP%]:disabled{background:#b5c8ef;box-shadow:none}.password-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}@media (max-width: 992px){.brand-panel[_ngcontent-%COMP%]{display:none!important}.login-card[_ngcontent-%COMP%]{border-radius:1.5rem}}"]})};export{G as LoginComponent};
