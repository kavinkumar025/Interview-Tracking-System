import{b as P,c as m,d as x,e as A,g as b,h as R,i as F,l as h,m as D,n as y,o as L,r as M,t as U}from"./chunk-46GCKG2T.js";import{Da as N,Ha as d,Oa as s,Qb as T,Ra as i,Rb as v,Sa as e,Ta as p,Xa as u,Ya as f,Yb as E,c as g,db as o,dc as C,eb as I,ua as a,ya as _}from"./chunk-BULBJQPZ.js";var G=["Developer","Designer","Manager","QA Engineer","DevOps","Data Engineer","Data Scientist","Product Manager","Other"];function w(t,n){t&1&&(i(0,"div",24),o(1,"Name is required"),e())}function k(t,n){t&1&&(i(0,"div",24),o(1,"Valid email required"),e())}function Y(t,n){if(t&1&&(i(0,"option",25),o(1),e()),t&2){let l=n.$implicit;s("value",l),a(),I(l)}}function B(t,n){t&1&&(i(0,"div",24),o(1,"Required"),e())}function q(t,n){t&1&&(i(0,"span"),o(1,"Save Candidate"),e())}function V(t,n){t&1&&p(0,"span",26)}function K(t,n){t&1&&(i(0,"div",27),o(1,"Candidate saved"),e())}function W(t,n){if(t&1&&(i(0,"div",28),o(1),e()),t&2){let l=f();a(),I(l.error)}}var H=class t{constructor(n,l){this.fb=n;this.fs=l;this.form=this.fb.group({name:["",[m.required,m.minLength(2)]],email:["",[m.required,m.email]],phone:["",[m.required,m.pattern(/^[0-9()+\-\s]{7,20}$/)]],position:["",m.required],experience:[0,[m.min(0)]],resumeUrl:[""]})}form;positions=G;saving=!1;saved=!1;error="";save(){return g(this,null,function*(){if(this.error="",this.saved=!1,!this.form.invalid){this.saving=!0;try{let n=this.form.value,l=(n.email||"").trim().toLowerCase();yield this.fs.createCandidate({name:n.name,email:l,phone:(n.phone||"").trim(),position:n.position,experience:n.experience||0,resumeUrl:n.resumeUrl||"",createdAt:new Date,status:"applied",currentStage:"initial"}),this.saved=!0,this.form.reset()}catch(n){this.error=n.message||"Error saving"}this.saving=!1}})}static \u0275fac=function(l){return new(l||t)(_(M),_(C))};static \u0275cmp=N({type:t,selectors:[["app-candidate-registration"]],decls:43,vars:10,consts:[[1,"container","py-4","registration-wrapper"],[1,"mb-3"],[1,"card","p-4","shadow-sm",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["formControlName","name",1,"form-control"],["class","invalid-feedback d-block small",4,"ngIf"],["formControlName","email","type","email",1,"form-control"],["formControlName","phone",1,"form-control"],["formControlName","position",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["type","number","formControlName","experience",1,"form-control"],[1,"col-md-8"],["formControlName","resumeUrl","placeholder","https://...",1,"form-control"],[1,"mt-4","d-flex","gap-2"],[1,"btn","btn-success",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","alert alert-success mt-3 py-2 small",4,"ngIf"],["class","alert alert-danger mt-3 py-2 small",4,"ngIf"],[1,"invalid-feedback","d-block","small"],[3,"value"],[1,"spinner-border","spinner-border-sm"],[1,"alert","alert-success","mt-3","py-2","small"],[1,"alert","alert-danger","mt-3","py-2","small"]],template:function(l,r){if(l&1&&(i(0,"div",0)(1,"h4",1),o(2,"Candidate Registration"),e(),i(3,"form",2),u("ngSubmit",function(){return r.save()}),i(4,"div",3)(5,"div",4)(6,"label",5),o(7,"Full Name"),e(),p(8,"input",6),d(9,w,2,0,"div",7),e(),i(10,"div",4)(11,"label",5),o(12,"Email"),e(),p(13,"input",8),d(14,k,2,0,"div",7),e(),i(15,"div",4)(16,"label",5),o(17,"Phone"),e(),p(18,"input",9),e(),i(19,"div",4)(20,"label",5),o(21,"Position"),e(),i(22,"select",10)(23,"option",11),o(24,"Select..."),e(),d(25,Y,2,2,"option",12),e(),d(26,B,2,0,"div",7),e(),i(27,"div",13)(28,"label",5),o(29,"Experience (Years)"),e(),p(30,"input",14),e(),i(31,"div",15)(32,"label",5),o(33,"Resume URL"),e(),p(34,"input",16),e()(),i(35,"div",17)(36,"button",18),d(37,q,2,0,"span",19)(38,V,1,0,"span",20),e(),i(39,"button",21),u("click",function(){return r.form.reset()}),o(40,"Reset"),e()(),d(41,K,2,0,"div",22)(42,W,2,1,"div",23),e()()),l&2){let c,O,S;a(3),s("formGroup",r.form),a(6),s("ngIf",((c=r.form.get("name"))==null?null:c.touched)&&((c=r.form.get("name"))==null?null:c.invalid)),a(5),s("ngIf",((O=r.form.get("email"))==null?null:O.touched)&&((O=r.form.get("email"))==null?null:O.invalid)),a(11),s("ngForOf",r.positions),a(),s("ngIf",((S=r.form.get("position"))==null?null:S.touched)&&((S=r.form.get("position"))==null?null:S.invalid)),a(10),s("disabled",r.form.invalid||r.saving),a(),s("ngIf",!r.saving),a(),s("ngIf",r.saving),a(3),s("ngIf",r.saved),a(),s("ngIf",r.error)}},dependencies:[E,T,v,U,b,y,L,P,R,D,x,A,F,h],styles:[".registration-wrapper[_ngcontent-%COMP%]{max-width:900px}.registration-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600}.registration-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}"]})};export{H as CandidateRegistrationComponent};
